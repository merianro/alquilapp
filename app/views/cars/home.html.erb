<div class="container-fluid">
    <% if user_signed_in? then %>
        <div class="container-fluid alertValidation">
            <% if current_user.role=="driver" and !current_user.validado and current_user.validation == nil then %>
            <div class="alert alert-danger text-center fs-5" role="alert">
                <i class='bx bx-error'></i> Recorda que para poder alquilar debes estar validado. <%=link_to "Hace click acÃ¡ para validarte" , new_validation_path, class:"text-danger" %>
            </div>
        <% else %>
          <% if current_user.role=="driver" and !current_user.validado then %>
            <div class="alert alert-warning text-center fs-5" role="alert">
              <i class='bx bx-loader'></i> Su licencia esta siendo verificada por un supervisor.
            </div>
          <% end %>
          <% end %>  
        </div>
        <div id="map" style="height: 600px;"></div>
        <script>
            var array = [];
            <% Car.all.each do | car | %> 
                var obj = {
                latitude: <%= car.ubication.x %>,
                longitude: <%= car.ubication.y %>,
                tooltip: "Marca: <%= car.marca %>, Modelo: <%= car.modelo %>"
            }
            array.push(obj);
            <% end %>
                console.log(array);
            new Mapkick.Map("map", array, { zoom: 13 });
        </script>
        <% else %>
            <%= button_to "Ingresar " , new_user_session_path, class:"btn btn-outline-dark btn-lg" %>
                <%= image_tag("main.jpg", size: "100% 100%" )%>
                    <p style="background-image_tag('home.jpg');">


                        <% end %>
</div>

<style>
    .alertValidation{
        padding: 10px;
    }
</style>